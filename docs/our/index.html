<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-our">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Our Implementations | CG Report</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/our"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Our Implementations | CG Report"><meta data-rh="true" name="description" content="APIs and Libraries used :"><meta data-rh="true" property="og:description" content="APIs and Libraries used :"><link data-rh="true" rel="icon" href="/"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/our"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/our" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/our" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5bd81ef5.css">
<link rel="preload" href="/assets/js/runtime~main.12874ef5.js" as="script">
<link rel="preload" href="/assets/js/main.077fccc9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">CG Project</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/definition">Definitions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/radiosity">Radiosity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/hist">Historical Implementations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/our">Our Implementations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dive">Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/team">Team Members</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/references">References</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Our Implementations</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Our Implementations</h1><p>APIs and Libraries used :
GLFW: handles window and context creation for OpenGL
GLEW: OpenGL Extension Wrangler, provides easy access to OpenGL extensions
GLM: A mathematics library that allows code to be written in C++ that can easily interoperate with GLSL
stb_image.h: header-only library that handles image loading
Open Asset Import Library (Assimp): object loader that can handle many different object file formats
wxWidgets: library is that it closely mimics the look of the windows of the host OS and helps in the creation of a coherent UI</p><ul><li><p>Frontend </p></li><li><p>wxWidgets library was used to implement a simple UI that allows the user to choose the file to be rendered, change the render resolution and change the light map resolution.</p></li><li><p>Renderer </p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="patch-representation">Patch representation<a class="hash-link" href="#patch-representation" title="Direct link to heading">​</a></h3><p>The older radiosity papers suggested subdividing big surfaces into smaller patches. In practice this meant that a surface that only contained a few triangles had more vertices added to it so that we could create more, smaller triangles. In this case a patch would be a triangle. Since in traditional radiosity the amount and color of light is constant over a patch more patches lead to a better quality image.</p><p>This method couples the lighting representation and the underlying geometry tightly and we’d have to render more triangles if we want a more refined lighting. It also raises the issue of how to subdivide the original triangles.</p><p>To circumnavigate around these issues, patches are represented with textures. Each texel (texture pixel) is going to act as a patch, so getting a more detailed image can be achieved by simply changing the texture resolution. These textures are the aforementioned &quot;lightmaps&quot; and are used to store the radiosity values that map to a given point in the scene.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="choosing-the-shooting-patch">Choosing the shooting patch<a class="hash-link" href="#choosing-the-shooting-patch" title="Direct link to heading">​</a></h3><p>The best way of choosing the shooting patch is selecting the patch that has the most energy that has not been shot yet (called the &quot;radiance&quot; or &quot;radiant energy&quot; of the patch). This patch contributes the most to the scene and thus if the patch with the highest radiance is always chosen, the scene is going to converge the quickest to the final solution.</p><p>The shooting patch is chosen by looking at the average radiance of a mesh by creating a mipmap pyramid of its radiance texture then taking the top level of it. The top level mipmap is going to have a resolution of 1x1 and is going to contain the average RGB value of the whole texture. These mipmaps can then be sorted and used accordingly.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="form-factor">Form factor<a class="hash-link" href="#form-factor" title="Direct link to heading">​</a></h3><p>The geometric term of the form factor calculation relies on the distance and relative orientation of two elements (the shooter and the receiver) and also their size. A modified version of the geometric term calculation found in GPUGI was used.</p><p>The visibility term determines if the shooting patch can see a specific receiver or if it is occluded. As a simple implementation, <code>visibility = 1</code> if it is not occluded and <code>visibility = 0</code> if it is. This is determined using shadow mapping.</p><p>Laying the flat side of a hemisphere on a surface is going to allow us to look at what any given point can &quot;see&quot;. Since radiosity deals with perfect lambertian diffuse surfaces, the surface is going to distribute energy evenly over the hemisphere. The hemisphere itself is similar to a camera with a 180° field of view. We approximate a hemisphere with a hemicube, a cube cut in half, with 1 full face and 4 half-faces.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="energy-distribution-and-accumulation">Energy distribution and accumulation<a class="hash-link" href="#energy-distribution-and-accumulation" title="Direct link to heading">​</a></h3><p>Two lightmaps are maintained for every mesh, one for the radiant/outgoing energy and one for the incoming radiant energy/irradiance from the other patches. This is so that we can determine what to show when we render the scene and what to transmit to other patches. When the radiosity process starts the lightmaps of every non-lamp mesh are going to be completely dark RGB(0, 0, 0) whereas lamps are going to be completely white RGB(1, 1, 1).</p><p>We can then simply add the RGB values of the incoming energy to the stored irradiance of every patch to get the new irradiance values after a shooter has shot its energy. Similarly we can get the new radiance value of every patch by multiplying the irradiance values just received by the underlying diffuse texture values. This value is then added to the stored radiance and the shooter&#x27;s radiance is set to 0.</p><p>This step is then repeated for all the surfaces in the scene on the fly in the previously sorted order.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/hist"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Historical Implementations</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/dive"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Code</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#patch-representation" class="table-of-contents__link toc-highlight">Patch representation</a></li><li><a href="#choosing-the-shooting-patch" class="table-of-contents__link toc-highlight">Choosing the shooting patch</a></li><li><a href="#form-factor" class="table-of-contents__link toc-highlight">Form factor</a></li><li><a href="#energy-distribution-and-accumulation" class="table-of-contents__link toc-highlight">Energy distribution and accumulation</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 CG Project.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.12874ef5.js"></script>
<script src="/assets/js/main.077fccc9.js"></script>
</body>
</html>